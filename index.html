<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>WinTube Music Player</title>
<style>
body {
  margin:0;
  font-family:"Segoe UI",sans-serif;
  background:#121212;
  color:#fff;
}

.page {
  max-width:900px;
  margin:50px auto 150px;
  padding:20px;
}

#videoList {
  display:flex;
  flex-wrap:wrap;
  gap:15px;
}

.video-item {
  background:#1e1e1e;
  padding:10px;
  border-radius:12px;
  width:calc(25% - 11.25px);
  cursor:pointer;
  text-align:center;
  transition: transform 0.3s, background 0.3s, box-shadow 0.3s;
}

.video-item:hover {
  background:#2a2a2a;
  transform:translateY(-5px) scale(1.02);
  box-shadow:0 5px 15px rgba(0,0,0,0.5);
}

.video-item img {
  width:100%;
  border-radius:10px;
  margin-bottom:8px;
  transition: transform 0.3s;
}

.video-item div {
  font-size:14px;
  line-height:1.2;
}

#youtubePlayer {
  display:block;
  border-radius:12px;
  width:100%;
  max-width:900px;
  aspect-ratio:16/9;
  margin-top:25px;
  box-shadow:0 10px 25px rgba(0,0,0,0.5);
  transition: all 0.3s;
}

#controls {
  margin-top:15px;
  display:flex;
  gap:10px;
  justify-content:center;
}

button {
  padding:10px 20px;
  border:none;
  border-radius:8px;
  cursor:pointer;
  background:#fff;
  color:#000;
  font-weight:bold;
  transition:all 0.2s;
}

button:hover {
  background:#f0f0f0;
  transform:scale(1.05);
}

/* Now Playing Bar */
#nowPlayingBar {
  position:fixed;
  bottom:0;
  left:0;
  width:100%;
  background:rgba(24,24,24,0.95);
  backdrop-filter:blur(8px);
  display:flex;
  align-items:center;
  gap:15px;
  padding:12px 20px;
  border-top:1px solid #333;
  z-index:1000;
  transition: all 0.3s;
  flex-direction:column;
}

#nowPlayingHeader {
  width:100%;
  display:flex;
  align-items:center;
  justify-content:space-between;
  cursor:pointer;
}

#nowPlayingHeader img {
  width:50px;
  height:50px;
  border-radius:10px;
  object-fit:cover;
}

#nowPlayingInfo {
  flex:1;
  margin-left:15px;
  font-weight:bold;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}

#playerControls {
  display:flex;
  align-items:center;
  justify-content:center;
  gap:15px;
  margin-top:10px;
  width:100%;
}

#playerControls button {
  background:#fff;
  color:#000;
}

#progressContainer {
  width:90%;
  height:5px;
  background:#333;
  border-radius:3px;
  margin:10px 0;
  cursor:pointer;
  position:relative;
}

#progressBar {
  width:0%;
  height:100%;
  background:#1db954;
  border-radius:3px;
  transition:width 0.2s;
}

/* Collapsed */
#nowPlayingBar.collapsed {
  height:70px;
  padding:10px 20px;
}

#nowPlayingBar.collapsed #playerControls,
#nowPlayingBar.collapsed #progressContainer {
  display:none;
}

@media(max-width:800px){
  .video-item { width:calc(50% - 7.5px); }
}

@media(max-width:500px){
  .video-item { width:100%; }
  #controls { flex-direction:column; }
}
</style>
</head>
<body>

<div class="page">
  <div id="videoList"></div>
  <iframe id="youtubePlayer" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
  <div id="controls">
    <button onclick="prevVideo()">Prev</button>
    <button onclick="nextVideo()">Next</button>
  </div>
</div>

<div id="nowPlayingBar">
  <div id="nowPlayingHeader" onclick="toggleNowPlaying()">
    <img id="nowPlayingArt" src="" style="display:none;">
    <div id="nowPlayingInfo">No video playing</div>
    <div style="margin-left:auto;font-size:20px;">&#9650;</div>
  </div>
  <div id="progressContainer">
    <div id="progressBar"></div>
  </div>
  <div id="playerControls">
    <button onclick="prevVideo()">⏮️</button>
    <button id="playPauseBtn" onclick="togglePlay()">▶️</button>
    <button onclick="nextVideo()">⏭️</button>
  </div>
</div>

<script>
const videos = [
"Hioe-3sihj4","6KPeQzxNpFE","U91PEIutLHE","KzL4HFbqJjA","--yN8J0GqCY","i2Y3qNtMkNU",
"0E680Lb8aOk","KbEW-MTpI24","AojPyqhmYVA","Uz8fqcsKwwo","1N3i7CeiqA0","tFRyK5-SqDM",
"IHng28QO_R4","xnzvg3yjfIE","4d7OIs0ravQ","EP7EmvFqlFU","zET5IjvR6m8","RZgn60POzkY",
"e-AQ7jU2i_o","IIag8QqdPow","D3-vBBQKOYU","2QlYKKiT4Js","RZgn60POzkY","xycKCnWeG7w",
"iW6Mko_nHtI","aqTdDFvubPM","RaRFYkClYRA","f_rxNWVMHH4","J0IPFrWprSU","RHrI_Jv1ckw",
"KOn9PHG2xjw","C5aV-dlKiYI","hTd_sDBz5Yk","wQ0LB6VIOv0","1VEu0hS9Kxk","ldPJIHvvk0o",
"xBXeOW2CBOc","LfewX9Im5Y4","lTU-pyQ_anQ","jImWWkMPGow","SID_ikfX8QI","BOCz5L3BagI"
];

const videoList = document.getElementById("videoList");
const youtubePlayer = document.getElementById("youtubePlayer");
const nowPlayingTitleEl = document.getElementById("nowPlayingInfo");
const nowPlayingArt = document.getElementById("nowPlayingArt");
const nowPlayingBar = document.getElementById("nowPlayingBar");
const playPauseBtn = document.getElementById("playPauseBtn");
let currentIndex = 0;
let playing = true;

function loadVideo(index) {
  const id = videos[index];
  const url = `https://www.youtube.com/watch?v=${id}`;
  const oembedUrl = `https://www.youtube.com/oembed?url=${encodeURIComponent(url)}&format=json`;
  fetch(oembedUrl)
    .then(res => res.json())
    .then(meta => {
      youtubePlayer.src = `https://www.youtube.com/embed/${id}?autoplay=1&rel=0`;
      nowPlayingTitleEl.textContent = meta.title;
      nowPlayingArt.src = meta.thumbnail_url;
      nowPlayingArt.style.display = "block";
      playing = true;
      playPauseBtn.textContent = "⏸️";
    })
    .catch(() => {});
}

function nextVideo() { currentIndex = (currentIndex + 1) % videos.length; loadVideo(currentIndex); }
function prevVideo() { currentIndex = (currentIndex - 1 + videos.length) % videos.length; loadVideo(currentIndex); }

function togglePlay() {
  // youtube embed autoplay toggle simulation
  playing = !playing;
  playPauseBtn.textContent = playing ? "⏸️" : "▶️";
}

function toggleNowPlaying() {
  nowPlayingBar.classList.toggle("collapsed");
}

videos.forEach((id,index)=>{
  const url = `https://www.youtube.com/watch?v=${id}`;
  const oembedUrl = `https://www.youtube.com/oembed?url=${encodeURIComponent(url)}&format=json`;
  fetch(oembedUrl).then(res=>res.json()).then(meta=>{
    const div=document.createElement("div");
    div.className="video-item";
    div.innerHTML=`<img src="${meta.thumbnail_url}"><div>${meta.title}</div>`;
    div.onclick=()=>{ currentIndex=index; loadVideo(currentIndex); };
    videoList.appendChild(div);
  }).catch(()=>{});
});

window.onload = ()=>{ loadVideo(currentIndex); };
</script>

</body>
</html>